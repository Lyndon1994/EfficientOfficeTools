(function(e){function t(t){for(var n,a,r=t[0],l=t[1],c=t[2],h=0,g=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(g.length)g.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],n=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},i={options:0},o=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var p=l;o.push([1,"chunk-vendors"]),s()})({1:function(e,t,s){e.exports=s("e907")},e907:function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=s("5c96"),o=s.n(i),a=(s("0fae"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",staticStyle:{width:"1000px",height:"500px"},attrs:{"label-width":"10px",size:"mini"}},[s("draggable",{attrs:{handle:".handle"},on:{end:e.onDragEnd},model:{value:e.engines,callback:function(t){e.engines=t},expression:"engines"}},[s("transition-group",e._l(e.engines,(function(t,n){return s("el-form-item",{key:t.id,attrs:{label:"",gutter:12}},[s("el-row",[s("el-col",{attrs:{span:1}},[s("i",{staticClass:"el-icon-rank handle"})]),s("el-col",{attrs:{span:2}},[s("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:e.getMessage("searchEngine")},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}})],1),s("el-col",{attrs:{span:3}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("optionsInPopupTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("optionsInPopup")},model:{value:t.inPopup,callback:function(s){e.$set(t,"inPopup",s)},expression:"item.inPopup"}})],1)],1),s("el-col",{attrs:{span:3}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("inRightTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("inRight")},model:{value:t.inRight,callback:function(s){e.$set(t,"inRight",s)},expression:"item.inRight"}})],1)],1),s("el-col",{attrs:{span:4}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("inShortcutsTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("inShortcuts")},model:{value:t.inShortcuts,callback:function(s){e.$set(t,"inShortcuts",s)},expression:"item.inShortcuts"}})],1)],1),s("el-col",{attrs:{span:4}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("inTooltipTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("inTooltip")},model:{value:t.inTooltip,callback:function(s){e.$set(t,"inTooltip",s)},expression:"item.inTooltip"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:9}},[s("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:e.getMessage("searchUrl")},on:{input:function(s){return e.changeSearchUrl(t)}},model:{value:t.url,callback:function(s){e.$set(t,"url",s)},expression:"item.url"}})],1),s("el-col",{attrs:{span:8}},[s("el-input",{staticStyle:{width:"320px"},attrs:{placeholder:e.getMessage("searchIcon")},model:{value:t.icon,callback:function(s){e.$set(t,"icon",s)},expression:"item.icon"}},[s("img",{attrs:{slot:"append",src:t.icon,alt:"",height:"20px"},slot:"append"})])],1),s("el-col",{attrs:{span:1}},[s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(s){return e.delItem(t.id)}}})],1),t.id==e.engines.length?s("el-col",{attrs:{span:1}},[s("el-button",{attrs:{type:"info",icon:"el-icon-plus",circle:""},on:{click:e.addItem}})],1):e._e()],1)],1)})),1)],1),s("el-form-item",{attrs:{label:""}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("select2clipboardTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("select2clipboard")},model:{value:e.settings.select2clipboard,callback:function(t){e.$set(e.settings,"select2clipboard",t)},expression:"settings.select2clipboard"}})],1)],1),s("el-form-item",{attrs:{label:""}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("showTooltipTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("showTooltip")},model:{value:e.settings.showTooltip,callback:function(t){e.$set(e.settings,"showTooltip",t)},expression:"settings.showTooltip"}})],1)],1),s("el-form-item",{attrs:{label:""}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("showTopSearchSwitchTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("showTopSearchSwitch")},model:{value:e.settings.showTopSearchSwitch,callback:function(t){e.$set(e.settings,"showTopSearchSwitch",t)},expression:"settings.showTopSearchSwitch"}})],1)],1),s("el-form-item",{attrs:{label:""}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.getMessage("searchInNewTabTip"),placement:"top"}},[s("el-switch",{attrs:{"active-text":e.getMessage("searchInNewTab")},model:{value:e.settings.searchInNewTab,callback:function(t){e.$set(e.settings,"searchInNewTab",t)},expression:"settings.searchInNewTab"}})],1)],1),s("el-form-item",{attrs:{label:""}},[e._v("\n        "+e._s(e.getMessage("themeColorTip"))+": \n        "),s("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.settings.themeColor,callback:function(t){e.$set(e.settings,"themeColor",t)},expression:"settings.themeColor"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"danger"},on:{click:e.reset}},[e._v(e._s(e.getMessage("reset")))])],1)],1)}),r=[],l=s("b76a"),c=s.n(l),p=s("f7fe"),h={name:"App",components:{draggable:c.a},data:function(){return{openHiTip:!1,logmsg:"",engines:[],settings:{select2clipboard:!1,showTooltip:!1,showTopSearchSwitch:!0,searchInNewTab:!0,themeColor:"rgba(144, 238, 144, 0.56)"},predefineColors:["#FFFFFF","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]}},methods:{init:function(){var e={engines:this.getMessage("defaultEnginesConfig"),select2clipboard:!1,showTooltip:!1,showTopSearchSwitch:!0,searchInNewTab:!0,themeColor:"rgba(144, 238, 144, 0.56)"},t=this;chrome.storage.sync.get(e,(function(e){return t.engines=JSON.parse(e.engines),t.settings.select2clipboard=e.select2clipboard,t.settings.showTooltip=e.showTooltip,t.settings.showTopSearchSwitch=e.showTopSearchSwitch,t.settings.searchInNewTab=e.searchInNewTab,t.settings.themeColor=e.themeColor,!0})),this.openReadme()},onDragEnd:function(){console.log(this.engines,"form.engines")},changeSearchUrl:function(e){if(!e.icon){var t=/(https?\:\/\/[^\/]+).*\?.*/,s=t.exec(e.url);s&&(e.icon=s[1].trim()+"/favicon.ico")}},addItem:function(){this.engines.push({id:this.engines.length+1})},delItem:function(e){this.engines=this.engines.filter((function(t){if(t.id!=e)return t}))},onSubmit:function(){var e=this,t=0;this.engines=this.engines.filter((function(e){return t++,e.id=t,e})),chrome.runtime.sendMessage(this.engines,(function(e){console.log(e)})),chrome.storage.sync.set({engines:JSON.stringify(this.engines),select2clipboard:this.settings.select2clipboard,showTooltip:this.settings.showTooltip,showTopSearchSwitch:this.settings.showTopSearchSwitch,searchInNewTab:this.settings.searchInNewTab,themeColor:this.settings.themeColor},(function(){return console.log("saved"),e.$message({message:e.getMessage("saved")+". "+e.getMessage("refresh"),type:"success"}),!0}))},reset:function(){var e=this;this.$confirm(e.getMessage("reset")+"?","Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then((function(){chrome.storage.sync.clear((function(t){return e.$message({message:e.getMessage("reseted"),type:"success"}),!0})),location.reload()})).catch((function(){}))},getMessage:function(e){return chrome.i18n.getMessage(e)},autosave:p((function(e,t){JSON.stringify(e)!=JSON.stringify(t)&&(this.onSubmit(),this.openHiTip||(this.openHi(),this.openHiTip=!0))}),1e3),openHi:function(){this.$notify({title:"Hi",dangerouslyUseHTMLString:!0,message:this.getMessage("comment"),duration:0})},openReadme:function(){this.$notify({title:"Hi",dangerouslyUseHTMLString:!0,message:this.getMessage("readme"),duration:0})}},created:function(){this.init()},computed:{newForm:function(){return JSON.parse(JSON.stringify([this.engines,this.settings]))}},watch:{newForm:{handler:function(e,t){this.isWatch?this.autosave(e,t):this.isWatch=!0},deep:!0}},mounted:function(){}},g=h,u=s("2877"),f=Object(u["a"])(g,a,r,!1,null,null,null),d=f.exports;n["default"].use(o.a),new n["default"]({el:"#app",render:function(e){return e(d)}})}});